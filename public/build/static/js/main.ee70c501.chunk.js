(this.webpackJsonpPymes=this.webpackJsonpPymes||[]).push([[0],{653:function(e,t,n){},654:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n(48),s=n.n(c),i=n(18),l=n(31),o=n(60),j=n(11),d=n.n(j),u=n(25),b=n(663),O=n(144),x=n(664),p=n(68),h=n.n(p),m=h.a.create({baseURL:"/auth",withCredentials:!0}),f=function(e){return m.post("/signup",e)},y=function(){return m.get("/current-user")},g=function(){return m.get("/logout")},v=n(13),w=Object(r.createContext)(),k=function(e){var t=Object(r.useState)(null),n=Object(v.a)(t,2),c=n[0],s=n[1];Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,n=t.data,s(n||null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var l=function(e){return s(e)},o=function(){return s(null)},j=Object(r.useMemo)((function(){return{user:c,login:l,logout:o}}),[c]);return Object(a.jsx)(w.Provider,Object(i.a)({value:j},e))},I=function(){return Object(r.useContext)(w)},S=b.a.Header,C=b.a.Content,D=b.a.Sider;function P(e){var t=e.children,n=I(),r=n.user,c=n.logout,s=Object(o.g)(),i=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:c(),s.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(b.a,{style:{height:"100%"},children:[Object(a.jsxs)(S,{className:"header",style:{backgroundColor:"#81A1C1",color:"#f0f2f5"},children:[Object(a.jsx)("div",{className:"logo"}),Object(a.jsxs)(O.a,{theme:"dark",mode:"horizontal",style:{backgroundColor:"#81A1C1",color:"#f0f2f5",textAlign:"right"},children:[Object(a.jsx)(l.b,{to:"/",children:Object(a.jsx)("img",{src:"/images/Pymes-logo.png",style:{height:"50px",float:"left",marginTop:"7px",paddingLeft:"20px"}})}),r?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a.Item,{style:{color:"#dce9ed"},children:Object(a.jsx)(l.b,{to:"/profile",children:r.companyName})},"1"),Object(a.jsx)(O.a.Item,{onClick:i,style:{color:"#dce9ed"},children:"Log Out"},"3")]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a.Item,{style:{color:"#dce9ed"},children:Object(a.jsx)(l.b,{to:"/login",children:"Log In"})},"1"),Object(a.jsx)(O.a.Item,{style:{color:"#dce9ed"},children:Object(a.jsx)(l.b,{to:"/signup",children:"Sign Up"})},"2")]})]})]}),Object(a.jsxs)(b.a,{style:{height:"100%"},children:[r?Object(a.jsx)(D,{className:"site-layout-background",style:{width:"20%",backgroundColor:"#FFFFFF!important"},children:Object(a.jsxs)(O.a,{mode:"inline",style:{height:"100%",borderRight:0},children:[Object(a.jsx)(O.a.Item,{style:{color:"#4D5768"},children:Object(a.jsx)(l.b,{to:"/",children:"Home"})},"1"),Object(a.jsx)(O.a.Item,{style:{color:"#4D5768"},children:Object(a.jsx)(l.b,{to:"/orders",children:"Orders"})},"2"),Object(a.jsx)(O.a.Item,{style:{color:"#4D5768"},children:Object(a.jsx)(l.b,{to:"/products",children:"Products"})},"3"),Object(a.jsx)(O.a.Item,{style:{color:"#4D5768"},children:Object(a.jsx)(l.b,{to:"/suppliers",children:"Suppliers"})},"4"),Object(a.jsx)(O.a.Item,{style:{color:"#4D5768"},children:Object(a.jsx)(l.b,{to:"/clients",children:"Clients"})},"5"),Object(a.jsx)(O.a.Item,{style:{color:"#4D5768",marginBottom:"100%"},children:Object(a.jsx)(l.b,{to:"/analytics",children:"Analytics"})},"6"),Object(a.jsx)(x.a,{}),Object(a.jsx)(O.a.Item,{style:{color:"#4D5768"},children:Object(a.jsx)(l.b,{to:"/profile",children:"Profile"})},"7")]})}):Object(a.jsx)(a.Fragment,{children:" "}),r?Object(a.jsx)(b.a,{style:{backgroundColor:"#F0F2F5"},children:Object(a.jsx)(C,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280,backgroundColor:"#F0F2F5"},children:Object(a.jsx)("div",{className:"site-layout-content",style:{backgroundColor:"#F0F2F5"},children:t})})}):Object(a.jsx)(b.a,{style:{padding:"0 24px 24px",backgroundColor:"#FFF"},children:Object(a.jsx)(C,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280},children:Object(a.jsx)("div",{className:"site-layout-content",children:t})})})]})]})}var E=n(63),A=n(665),L=h.a.create({baseURL:"/api/orders",withCredentials:!0}),T=function(){return L.get()},F=function(e){return L.get("/".concat(e))},N=function(e){return L.post("/create-order",e)},B=function(e,t){return L.put("/".concat(e),t)},z=n(134),M=n(677),R=n(135);function q(){var e=Object(z.a)(["\n    background-color: ",";\n    border-color: ",";\n    color: white;\n    :hover {\n      background-color: ",";\n      border-color: ",";\n    }\n  "]);return q=function(){return e},e}function U(){var e=Object(z.a)(["\n  background-color: #fff !important;\n  color: #4d5768 !important;\n"]);return U=function(){return e},e}function _(){var e=Object(z.a)(["\n  background-color: #f0f2f5 !important;\n  color: #4d5768 !important;\n"]);return _=function(){return e},e}function H(){var e=Object(z.a)(["\n  background-color: #f0f2f5 !important;\n  color: #4d5768 !important;\n"]);return H=function(){return e},e}var V=Object(R.a)(M.a)(H()),W=Object(R.a)(M.a.Password)(_()),$=function(e){return Object(a.jsx)(V,Object(i.a)({},e))},Q=function(e){return Object(a.jsx)(W,Object(i.a)({},e))},G=Object(R.a)(M.a)(U()),Y=function(e){return Object(a.jsx)(G,Object(i.a)({},e))},K=function(e){var t="primary"===e.type?"#4d5768":"secondary"===e.type?"#88C0D0":e.danger?"#BF616A":e.warning?"#EBCB8B":"",n=Object(R.a)(E.a)(q(),t,t,t+"BB",t+"BB");return Object(a.jsx)(n,Object(i.a)({},e))};function J(){var e=Object(r.useState)(null),t=Object(v.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,n=t.data,c(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=null===n||void 0===n?void 0:n.map((function(e){var t;return{key:e._id,orderNum:e.orderNum,date:e.date,clientID:null===(t=e.clientID)||void 0===t?void 0:t.name,total:"$ ".concat(e.total).replace(/\B(?=(\d{3})+(?!\d))/g,","),payment:e.payment,fulfillment:e.fulfillment,extra:e.extra,details:Object(a.jsx)(l.b,{to:"/orders/".concat(e._id),children:Object(a.jsx)(K,{type:"secondary",children:"Order Details"})})}}));return Object(a.jsxs)("div",{children:[Object(a.jsx)(l.b,{to:"/orders/create-order",children:Object(a.jsxs)(E.a,{style:{float:"left",color:"#4D5768",border:"1px dashed #4D5768"},children:[" ","New Order"," "]})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(A.a,{dataSource:s,columns:[{title:"Order #",dataIndex:"orderNum",key:"orderNum"},{title:"Date",dataIndex:"date",key:"date"},{title:"Client",dataIndex:"clientID",key:"clientID"},{title:"Total",dataIndex:"total",key:"total"},{title:"Payment",dataIndex:"payment",key:"payment"},{title:"Fulfillment",dataIndex:"fulfillment",key:"fulfillment"},{title:"Comments",dataIndex:"extra",key:"extra"},{title:"",dataIndex:"details",key:"details"}]})]})}var X=n(396),Z=n(166),ee=n(101),te=n(670),ne=n(671);function ae(){var e=Object(z.a)(["\n    color: ",";\n  "]);return ae=function(){return e},e}function re(){var e=Object(z.a)(["\n  color: #4d5768 !important;\n"]);return re=function(){return e},e}var ce=ne.a.Title,se=ne.a.Text,ie=Object(R.a)(ce)(re()),le=function(e){return Object(a.jsx)(ie,Object(i.a)({},e))},oe=function(e){var t="primary"===e.type?"#4d5768":"secondary"===e.type?"#88C0D0":e.danger?"#BF616A":e.warning?"#EBCB8B":"",n=Object(R.a)(se)(ae(),t||"#4d5768");return Object(a.jsx)(n,Object(i.a)({},e))},je=function(e){var t=e.history,n=I(),c=n.user,s=n.login;c&&t.goBack(),Object(r.useEffect)((function(){c&&t.push("/")}),[]);var i=function(){var e=Object(u.a)(d.a.mark((function e(n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c=n,m.post("/login",c);case 3:a=e.sent,r=a.data,s(r),t.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),X.b.error("Error with email or password");case 12:case"end":return e.stop()}var c}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(Z.a,{justify:"center",align:"middle",gutter:[16,16],children:Object(a.jsxs)(ee.a,{children:[Object(a.jsx)(le,{level:1,children:"LOGIN"}),Object(a.jsx)(oe,{type:"secondary",children:"Is awesome to see you again!"}),Object(a.jsx)(x.a,{}),Object(a.jsxs)(te.a,{layout:"horizontal",wrapperCol:24,name:"basic",initialValues:{remember:!0},onFinish:i,children:[Object(a.jsx)(te.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(a.jsx)($,{})}),Object(a.jsx)(te.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(a.jsx)(Q,{})}),Object(a.jsx)(te.a.Item,{children:Object(a.jsx)(K,{type:"primary",htmlType:"submit",children:"Login"})}),Object(a.jsxs)(oe,{children:["If you don't have an account yet, you can create an account"," ",Object(a.jsx)(l.b,{to:"/signup",children:"here"}),"."]})]}),Object(a.jsx)(x.a,{children:"or"}),Object(a.jsx)("a",{href:"/auth/google",children:Object(a.jsx)(E.a,{children:"Login with Google"})})]})})},de=n(186),ue=n(667),be=n(219),Oe=n(389),xe=n(683),pe=n(684),he=n(386),me=n(267),fe=n.n(me),ye=Object(a.jsx)(xe.a,{style:{fontSize:24},spin:!0}),ge="https://api.cloudinary.com/v1_1/franciscovivascodes/image/upload",ve=de.a.Option,we=function(e){var t=e.onFinishFn,n=e.isSignup,c=void 0===n||n,s=e.logUpdate,l=void 0===s?null:s,j=Object(r.useState)(null),b=Object(v.a)(j,2),O=b[0],x=b[1],p=Object(r.useState)(null),m=Object(v.a)(p,2),f=m[0],y=m[1],g=Object(r.useState)(!1),w=Object(v.a)(g,2),k=w[0],S=w[1],C=Object(o.g)(),D=te.a.useForm(),P=Object(v.a)(D,1)[0],E=I().user,A=Object(r.useState)(!1),L=Object(v.a)(A,2),T=L[0],F=L[1];function N(){return(N=Object(u.a)(d.a.mark((function e(n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),a=Object(i.a)(Object(i.a)({},n),{},{cellphone:n.cellphone||"",image:f}),e.prev=2,e.next=5,t(a);case 5:if(l&&l(a),!c){e.next=8;break}return e.abrupt("return",C.push("/login"));case 8:return e.abrupt("return",C.push("/profile"));case 11:e.prev=11,e.t0=e.catch(2),F(!1),console.dir(e.t0.response.data.err.message),X.b.error(e.t0.response.data.err.message);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=fe.a.customList("countryCode","(+{countryCallingCode}) {countryNameEn}"),n=fe.a.customList("countryCode","+{countryCallingCode}"),x({countryCodesNames:t,countryCodesValues:n}),E&&y(E.image);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var B=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url){e.next=5;break}return e.next=4,new Promise((function(e){var n=new FileReader;n.readAsDataURL(t.originFileObj),n.onload=function(){return e(n.result)}}));case 4:n=e.sent;case 5:(a=new Image).src=n,window.open(n).document.write(a.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function z(){return(z=Object(u.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),(n=new FormData).append("file",t),n.append("upload_preset","pymes-companyImage"),e.next=6,h.a.post(ge,n);case 6:a=e.sent,r=a.data.secure_url,y(r),S(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=Object(a.jsxs)("div",{children:[k?Object(a.jsx)(xe.a,{}):Object(a.jsx)(pe.a,{}),Object(a.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),R=O?Object(a.jsx)(te.a.Item,{name:"prefix",noStyle:!0,children:Object(a.jsx)(de.a,{style:{width:"8rem",fontSize:"0.8rem"},children:Object.keys(O.countryCodesNames).map((function(e){return Object(a.jsx)(ve,{style:{},value:O.countryCodesValues[e],children:O.countryCodesNames[e]},e)}))})}):E?Object(a.jsx)(te.a.Item,{name:"prefix",noStyle:!0,children:Object(a.jsx)(de.a,{style:{width:""},children:Object(a.jsx)(ve,{style:{},value:""})})}):Object(a.jsx)(te.a.Item,{initialValue:"+57",name:"prefix",noStyle:!0,children:Object(a.jsx)(de.a,{style:{width:""},children:Object(a.jsx)(ve,{style:{},value:""})})});return c||E?Object(a.jsxs)(te.a,{layout:"horizontal",wrapperCol:24,form:P,onFinish:function(e){return N.apply(this,arguments)},initialValues:E,children:[Object(a.jsx)(te.a.Item,{label:"Company Name:",name:"companyName",children:c?Object(a.jsx)($,{}):Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{label:"First Name:",name:"username",rules:[{required:!0,message:"Please input your first name!"}],children:c?Object(a.jsx)($,{}):Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{label:"Last Name:",name:"userlastname",rules:[{required:!0,message:"Please input your last name!"}],children:c?Object(a.jsx)($,{}):Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{label:"Phone",name:"cellphone",children:c?Object(a.jsx)($,{className:"signin",addonBefore:R,maxLength:"10"}):Object(a.jsx)(Y,{addonBefore:R,maxLength:"10",style:{backgroundColor:"#f0f2f5"}})}),Object(a.jsx)(te.a.Item,{label:"Address:",name:"address",children:c?Object(a.jsx)($,{}):Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"email",label:"Email:",rules:[{required:!0,message:"Please input your email!"}],children:c?Object(a.jsx)($,{}):Object(a.jsx)(Y,{})}),c?Object(a.jsx)(te.a.Item,{name:"password",label:"Password:",rules:[{required:!0,message:"Please input your password!"}],children:Object(a.jsx)(Q,{})}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)(te.a.Item,{label:"Company Logo:",children:Object(a.jsx)(he.a,{rotate:!0,children:Object(a.jsx)(ue.a,{showUploadList:!1,listType:"picture-card",beforeUpload:function(e){return z.apply(this,arguments)},onPreview:B,name:"image",children:f?Object(a.jsx)("img",{src:f,alt:"avatar",style:{width:"100%"}}):M})})}),T?Object(a.jsx)(be.a,{indicator:ye,style:{margin:"auto"}}):Object(a.jsx)(K,{type:"primary",htmlType:"submit",children:c?"Sign up":"Edit Profile"})]}):Object(a.jsx)(Oe.a,{loading:!Boolean(E),active:!0})};function ke(e){var t=e.history,n=I().user;return Object(r.useEffect)((function(){n&&t.push("/dashboard")}),[]),Object(a.jsx)(Z.a,{justify:"center",align:"middle",children:Object(a.jsxs)(ee.a,{children:[Object(a.jsx)(le,{level:1,children:"SIGN UP"}),Object(a.jsx)("br",{}),Object(a.jsx)(we,{onFinishFn:f,isSignup:!0}),Object(a.jsx)(x.a,{children:"or"}),Object(a.jsx)("a",{href:"/auth/google",children:Object(a.jsx)(E.a,{children:"Sing up with Google"})})]})})}var Ie=h.a.create({baseURL:"/api/user",withCredentials:!0}),Se=function(e){return Ie.put("/edit",e)},Ce=ne.a.Text;function De(){var e=I(),t=e.user,n=e.login;return t?Object(a.jsx)(Z.a,{justify:"center",align:"middle",children:Object(a.jsxs)(ee.a,{children:[Object(a.jsx)(le,{level:1,children:"Edit your profile"}),Object(a.jsx)(Ce,{type:"secondary",children:"Update your data"}),Object(a.jsx)(x.a,{}),Object(a.jsx)(we,{onFinishFn:Se,isSignup:!1,logUpdate:n})]})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Oe.a,{loading:!Boolean(t),active:!0,avatar:!0}),Object(a.jsx)(Oe.a,{loading:!Boolean(t),active:!0})]})}var Pe=n(675),Ee=n(685),Ae=function(e){e.history;var t=I().user,n=t?{src:t.image}:{icon:Object(a.jsx)(Ee.a,{})};return t?Object(a.jsx)(Z.a,{justify:"center",align:"middle",children:Object(a.jsxs)(ee.a,{xs:24,sm:24,md:20,lg:15,children:[Object(a.jsxs)(ee.a,{pull:6,children:[Object(a.jsx)(Pe.a,Object(i.a)(Object(i.a)({},n),{},{shape:"circle",style:{backgroundColor:"#4D5768",borderColor:"#4D5768"},size:{xs:60,sm:80,md:100,lg:120,xl:150,xxl:170}})),Object(a.jsxs)(le,{level:1,style:{display:"inline-block",marginLeft:"1rem",color:"#4D5768"},children:[t.companyName,"'s profile!"]})]}),Object(a.jsx)(x.a,{}),Object(a.jsxs)("p",{style:{color:"#4D5768",textAlign:"left",paddingLeft:"110px"},children:["Admin: ",t.username," ",t.userlastname,Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),"Phone: ",t.prefix," ",t.cellphone,Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),"Email: ",t.email,Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),"Address: ",t.address,Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]}),Object(a.jsx)(l.b,{to:"/profile/edit",children:Object(a.jsx)(K,{type:"primary",style:{float:"right"},children:"Edit profile"})})]})}):Object(a.jsx)(Oe.a,{loading:!t,active:!0})},Le=n(107),Te=n(390),Fe=n(666),Ne=n(681),Be=h.a.create({baseURL:"/api/clients",withCredentials:!0}),ze=function(){return Be.get()},Me=function(e){return Be.get("/".concat(e))},Re=function(e){return Be.post("/create-client",e)},qe=function(e,t){return Be.put("/".concat(e),t)},Ue=function(e){return Be.delete("/".concat(e))},_e=n(365),He=n.n(_e),Ve=h.a.create({baseURL:"/api/products",withCredentials:!0}),We=function(){return Ve.get("/")},$e=function(){return Ve.get("/available")},Qe=function(e){return Ve.get("/".concat(e))},Ge=function(e){return Ve.post("/create",e)},Ye=function(e,t){return Ve.put("/".concat(e),t)},Ke=function(e){return Ve.post("/search",e)},Je=n(84),Xe=n(678),Ze=function(e){var t=e.product,n=e.objProductsObjValues,c=e.isSupplier,s=void 0!==c&&c,l=Object(r.useState)(0),o=Object(v.a)(l,2),j=o[0],d=o[1],u=Object(r.useState)(!1),b=Object(v.a)(u,2),O=b[0],x=b[1],p=n.productsObjValues,h=n.setProductsObjValues;Object(r.useEffect)((function(){p[t._id]&&x(!0)}));var m=function(e){d(e),x(!0),h(Object(i.a)(Object(i.a)({},p),{},Object(Je.a)({},t._id,{image:t.image,_id:t._id,quantity:e,salePrice:t.salePrice,name:t.name})))};return s?Object(a.jsx)(Ne.b.Item,{actions:[O?Object(a.jsx)(oe,{children:"Added!"}):Object(a.jsx)(K,{type:"primary",onClick:m,children:"Add Product"})],children:Object(a.jsx)(Ne.b.Item.Meta,{avatar:Object(a.jsx)(Pe.a,{src:t.image,alt:t.name,size:"large"}),title:t.name,description:"$".concat(t.salePrice).replace(/\B(?=(\d{3})+(?!\d))/g,",")})}):Object(a.jsx)(Ne.b.Item,{actions:[Object(a.jsx)(Xe.a,{min:0,max:t.quantity,value:j,onChange:m})],children:Object(a.jsx)(Ne.b.Item.Meta,{avatar:Object(a.jsx)(Pe.a,{src:t.image,alt:t.name,size:"large"}),title:t.name,description:"$".concat(t.salePrice).replace(/\B(?=(\d{3})+(?!\d))/g,",")})})},et=function(e){var t=e.objProductsObjValues,n=e.isSupplier,c=void 0!==n&&n,s=Object(r.useState)(!1),i=Object(v.a)(s,2),l=(i[0],i[1]),o=Object(r.useState)(null),j=Object(v.a)(o,2),b=j[0],O=j[1],x=Object(r.useState)(null),p=Object(v.a)(x,2),h=p[0],m=p[1];Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e();case 2:t=e.sent,n=t.data,m(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b||"SEARCHALLTHEPRODUCTS"===b){e.next=8;break}return e.next=3,Ke({searchString:b,hasQuantity:!0});case 3:n=e.sent,a=n.data,t=a,e.next=13;break;case 8:return e.next=10,$e();case 10:r=e.sent,c=r.data,t=c;case 13:m(t);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}b&&function(){e.apply(this,arguments)}()}),[b]);return Object(a.jsxs)(Z.a,{align:"center",children:[Object(a.jsx)(ee.a,{span:24,children:Object(a.jsx)(He.a,{onChange:function(e){var t=e.target.value;O(t||"SEARCHALLTHEPRODUCTS"),l(!!t)},placeholder:"Search",onSearch:function(e){e?(O(e),l(!0)):(O(""),l(!1))}})}),Object(a.jsx)(ee.a,{span:24,style:{marginTop:"1rem",overflowY:"scroll"},children:h&&Object(a.jsx)(Ne.b,{itemLayout:"horizontal",dataSource:h,style:{height:"50%"},renderItem:function(e){return Object(a.jsx)(Ze,{objProductsObjValues:t,product:e,isSupplier:c})}})})]})};function tt(e){var t=e.isModal,n=void 0!==t&&t,c=e.setIsModal,s=e.HandlerAddQuantity,i=e.isSupplier,l=void 0!==i&&i,o=Object(r.useState)({}),j=Object(v.a)(o,2),d=j[0],u=j[1],b={productsObjValues:d,setProductsObjValues:u};return Object(a.jsx)(Te.a,{visible:n,title:"Select the products",okText:"Done",cancelText:"Cancel",onCancel:function(){c(!1)},onOk:function(){c(!1),s(d)},children:Object(a.jsx)(et,{objProductsObjValues:b,isSupplier:l})})}var nt=Object(a.jsx)(xe.a,{style:{fontSize:24},spin:!0});function at(e){e.addClient;var t=e.inAModal,n=void 0!==t&&t,c=e.setIsModalClient,s=te.a.useForm(),l=Object(v.a)(s,1)[0],j=Object(o.g)(),b=I(),O=b.user,x=b.login,p=Object(r.useState)(!1),h=Object(v.a)(p,2),m=h[0],f=h[1];function y(){return(y=Object(u.a)(d.a.mark((function e(t){var a,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),a=Object(i.a)({},t),e.next=4,Re(a);case 4:return r=e.sent,s=r.data,x(Object(i.a)(Object(i.a)({},O),{},{clientsID:[].concat(Object(Le.a)(O.clientsID),[s._id])})),e.abrupt("return",n?c(!1):j.push("/clients"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=n?{span:24}:{xs:24,sm:18,md:12,lg:8};return Object(a.jsx)(Z.a,{align:"center",children:m?Object(a.jsx)(ee.a,{xs:24,sm:18,md:12,lg:8,style:{height:"100%"},children:Object(a.jsx)(be.a,{indicator:nt,style:{margin:"auto"}})}):Object(a.jsxs)(ee.a,Object(i.a)(Object(i.a)({},g),{},{children:[Object(a.jsx)(le,{style:{margin:"2rem"},children:" New Client "}),Object(a.jsxs)(te.a,{form:l,layout:"horizontal",onFinish:function(e){return y.apply(this,arguments)},children:[Object(a.jsx)(te.a.Item,{name:"name",label:"Name:",rules:[{required:!0,message:"Please input the client's name!"}],children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"phone",label:"Phone:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"email",label:"Email:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"address",label:"Address:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(K,{type:"primary",htmlType:"submit",children:"Create Client"})]})]}))})}var rt=Object(a.jsx)(xe.a,{style:{fontSize:24},spin:!0});function ct(){var e=te.a.useForm(),t=Object(v.a)(e,1)[0],n=Object(o.g)(),c=I(),s=c.user,l=c.login,j=Object(r.useState)(!1),b=Object(v.a)(j,2),O=b[0],p=b[1],h=Object(r.useState)([]),m=Object(v.a)(h,2),f=m[0],y=m[1],g=Object(r.useState)(0),w=Object(v.a)(g,2),k=w[0],S=w[1],C=Object(r.useState)([]),D=Object(v.a)(C,2),P=D[0],E=D[1],A=Object(r.useState)(!1),L=Object(v.a)(A,2),T=L[0],F=L[1],B=Object(r.useState)(!1),z=Object(v.a)(B,2),M=z[0],R=z[1];Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze();case 2:t=e.sent,n=t.data,E(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[T]);function q(){return(q=Object(u.a)(d.a.mark((function e(t){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),a=Object(i.a)(Object(i.a)({},t),{},{productsList:f,total:k,date:t.date.format("YYYY-MM-DD")}),e.next=4,N(a);case 4:return r=e.sent,c=r.data,l(Object(i.a)(Object(i.a)({},s),{},{ordersID:[].concat(Object(Le.a)(s.ordersID),[c._id])})),e.abrupt("return",n.push("/orders"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=function(){return Object(a.jsx)(Te.a,{visible:T,title:"New Client",okText:"Done",cancelText:"Cancel",onCancel:function(){return F(!1)},onOk:function(){return F(!1)},children:Object(a.jsx)(at,{inAModal:!0,setIsModalClient:F})})};return M?Object(a.jsx)(ee.a,{span:24,style:{height:"100%"},children:Object(a.jsx)(be.a,{indicator:rt,style:{margin:"auto"}})}):Object(a.jsxs)(te.a,{form:t,layout:"horizontal",onFinish:function(e){return q.apply(this,arguments)},initialValues:{fulfillment:"PENDING",payment:"UNPAID"},children:[Object(a.jsx)(te.a.Item,{name:"date",label:"Date:",children:Object(a.jsx)(Fe.a,{style:{width:"100%"}})}),Object(a.jsx)(te.a.Item,{name:"clientID",label:"Client:",children:Object(a.jsx)(de.a,{dropdownRender:function(e){return function(e){return Object(a.jsxs)("div",{children:[e,Object(a.jsx)(x.a,{style:{margin:"4px 0"}}),Object(a.jsx)(U,{}),Object(a.jsx)(K,{type:"secondary",onClick:function(){return F(!T)},children:"New Client"})]})}(e)},children:null===P||void 0===P?void 0:P.map((function(e){return Object(a.jsx)(de.a.Option,{value:e._id,children:e.name})}))})}),Object(a.jsx)(te.a.Item,{name:"payment",label:"Payment:",children:Object(a.jsxs)(de.a,{children:[Object(a.jsx)(de.a.Option,{value:"UNPAID",children:"UNPAID"}),Object(a.jsx)(de.a.Option,{value:"PAID",children:"PAID"})]})}),Object(a.jsx)(te.a.Item,{name:"fulfillment",label:"Fulfillment:",children:Object(a.jsxs)(de.a,{children:[Object(a.jsx)(de.a.Option,{value:"PENDING",children:"PENDING"}),Object(a.jsx)(de.a.Option,{value:"FULFILLED",children:"FULFILLED"}),Object(a.jsx)(de.a.Option,{value:"CANCELLED",children:"CANCELLED"})]})}),Object(a.jsx)(te.a.Item,{name:"extra",label:"Comments:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(tt,{isModal:O,setIsModal:p,HandlerAddQuantity:function(e){var t=Object.keys(e).map((function(t){return e[t]})).filter((function(e){return e.quantity}));y(t),S(t.reduce((function(e,t){return e+t.salePrice*t.quantity}),0))}}),Object(a.jsx)(Ne.b,{style:{margin:"0.5rem"},pagination:{pageSize:3},itemLayout:"horizontal",dataSource:f,renderItem:function(e){return Object(a.jsx)(Ne.b.Item,{actions:[Object(a.jsxs)("p",{children:["Subtotal:"," ","$".concat(e.quantity*e.salePrice).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})],children:Object(a.jsx)(Ne.b.Item.Meta,{avatar:Object(a.jsx)(Pe.a,{src:e.image,size:"large",style:{marin:"auto"}}),title:e.name,description:Object(a.jsx)(oe,{children:Object(a.jsxs)("small",{children:["Price: $".concat(e.salePrice).replace(/\B(?=(\d{3})+(?!\d))/g,",")," ",Object(a.jsx)("br",{}),"Quantity: ",e.quantity]})})})})}}),Object(a.jsxs)(le,{level:5,children:["TOTAL : $","".concat(k).replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(a.jsx)(K,{type:"secondary",style:{marginBottom:"1.5rem"},onClick:function(){return p(!O)},children:"Add Items"}),Object(a.jsx)(K,{type:"primary",htmlType:"submit",size:"middle",children:"Create Order"})]})]})}function st(){return Object(a.jsx)(Z.a,{align:"center",children:Object(a.jsxs)(ee.a,{xs:24,sm:18,md:12,lg:8,children:[Object(a.jsx)(le,{style:{margin:"2rem"},children:" New Order "}),Object(a.jsx)(ct,{})]})})}var it=n(367),lt=h.a.create({baseURL:"/api/suppliers",withCredentials:!0}),ot=function(){return lt.get()},jt=function(e){return lt.get("/".concat(e))},dt=function(e){return lt.post("/create-supplier",e)},ut=function(e,t){return lt.put("/".concat(e),t)},bt=function(e){return lt.delete("/".concat(e))},Ot=n(224),xt=n.n(Ot),pt=Object(a.jsx)(xe.a,{style:{fontSize:24},spin:!0});function ht(e){Object(it.a)(e);var t=te.a.useForm(),n=Object(v.a)(t,1)[0],c=Object(o.g)(),s=I(),l=s.user,j=s.login,b=Object(r.useState)(!1),O=Object(v.a)(b,2),p=O[0],h=O[1],m=Object(r.useState)([]),f=Object(v.a)(m,2),y=f[0],g=f[1],w=Object(r.useState)(!1),k=Object(v.a)(w,2),S=k[0],C=k[1];function D(){return(D=Object(u.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),n=Object(i.a)(Object(i.a)({},t),{},{products:y.map((function(e){return e._id}))}),e.next=4,dt(n);case 4:return a=e.sent,r=a.data,j(Object(i.a)(Object(i.a)({},l),{},{suppliersID:[].concat(Object(Le.a)(l.suppliersID),[r._id])})),e.abrupt("return",c.push("/suppliers"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsx)(Z.a,{justify:"center",align:"middle",gutter:[16,16],children:S?Object(a.jsx)(ee.a,{xs:24,sm:18,md:12,lg:8,style:{height:"100%"},children:Object(a.jsx)(be.a,{indicator:pt,style:{margin:"auto"}})}):Object(a.jsxs)(ee.a,{xs:24,sm:18,md:12,lg:8,children:[Object(a.jsx)(le,{level:1,children:"New Supplier"}),Object(a.jsx)(x.a,{}),Object(a.jsxs)(te.a,{form:n,layout:"horizontal",onFinish:function(e){return D.apply(this,arguments)},children:[Object(a.jsx)(te.a.Item,{name:"name",label:"Name:",rules:[{required:!0,message:"Please input the Supplier's name!"}],children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"phone",label:"Phone:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"email",label:"Email:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"channel",label:"Channel:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"lastOrder",label:"Last Order:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(tt,{isModal:p,setIsModal:h,HandlerAddQuantity:function(e){var t=Object.keys(e).map((function(t){return e[t]})).filter((function(e){return e.quantity}));g(t)},isSupplier:!0}),Object(a.jsx)(Ne.b,{style:{margin:"0.5rem"},pagination:{pageSize:4},itemLayout:"horizontal",dataSource:y,renderItem:function(e){Object.keys(e)[0];return Object(a.jsx)(Ne.b.Item,{actions:[Object(a.jsx)(K,{onClick:function(){return t=e._id,void g(y.filter((function(e){return e._id!==t})));var t},danger:!0,children:"Remove"})],children:Object(a.jsx)(Ne.b.Item.Meta,{avatar:Object(a.jsx)(xt.a,{src:e.image,style:{marin:"auto"}}),title:e.name})})}}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(a.jsx)(K,{type:"secondary",style:{marginBottom:"1.5rem"},onClick:function(){return h(!p)},children:"Add Items"}),Object(a.jsx)(K,{type:"primary",htmlType:"submit",children:"Add New Supplier"})]})]})]})})}b.a.Header,b.a.Content,b.a.Sider;function mt(){I().logout,I().user,Object(o.g)();return Object(a.jsxs)(Z.a,{justify:"center",align:"middle",children:[Object(a.jsxs)(ee.a,{span:24,style:{display:"flex",height:"600px",alignItems:"center"},children:[Object(a.jsxs)(ee.a,{xs:24,sm:24,md:12,lg:12,span:12,style:{display:"flex",flexDirection:"column"},children:[Object(a.jsxs)(le,{level:1,style:{textAlign:"left",color:"#4D5768",paddingLeft:"9rem",fontSize:"2.5rem"},children:["HELPING YOUR MICROBUSINESS ",Object(a.jsx)("br",{}),"WORK IN MACRO WAYS"]}),Object(a.jsxs)(le,{level:5,style:{textAlign:"left",color:"#4D5768",paddingLeft:"9rem"},children:["Pymes is your ally when it comes to the organization of your business",Object(a.jsx)("br",{}),"Keep track of your orders, clients, suppliers and much more!",Object(a.jsx)("br",{}),"What are your waiting to sign up?!"]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(l.b,{to:"/signup",children:Object(a.jsx)(E.a,{shape:"square",style:{float:"left",marginLeft:"150px",color:"white",backgroundColor:"#4D5768",border:"none"},children:"Sign Up!"})})]}),Object(a.jsx)(ee.a,{xs:24,sm:24,md:12,lg:12,span:12,style:{},children:Object(a.jsx)("img",{src:"/images/1.png",style:{height:"400px"}})})]}),Object(a.jsxs)(ee.a,{span:24,style:{backgroundColor:"#E7EEF5",padding:"1.5rem"},children:[Object(a.jsx)(le,{level:1,style:{paddingTop:"1.5rem",color:"#4D5768",fontSize:"2rem",width:"100%"},children:"PARTNERS"}),Object(a.jsxs)(Z.a,{justify:"space-around",align:"middle",style:{paddingBottom:"0.5rem"},children:[Object(a.jsx)(ee.a,{xs:24,sm:12,md:12,lg:4,xl:4,span:4,children:Object(a.jsx)("img",{src:"/images/Amarea.png",style:{height:"150px"}})}),Object(a.jsx)(ee.a,{xs:24,sm:12,md:12,lg:4,xl:4,span:4,children:Object(a.jsx)("img",{src:"/images/Area.png",style:{height:"100px"}})}),Object(a.jsx)(ee.a,{xs:24,sm:12,md:12,lg:4,xl:4,span:4,children:Object(a.jsx)("img",{src:"/images/4.png",style:{height:"150px"}})}),Object(a.jsx)(ee.a,{xs:24,sm:12,md:12,lg:4,xl:4,span:4,children:Object(a.jsx)("img",{src:"/images/CS.png",style:{height:"150px"}})}),Object(a.jsx)(ee.a,{xs:24,sm:12,md:12,lg:4,xl:4,span:4,children:Object(a.jsx)("img",{src:"/images/5.png",style:{height:"150px"}})})]})]}),Object(a.jsx)(ee.a,{span:24,style:{padding:"30px",backgroundColor:"#88C0D0"},children:Object(a.jsx)("h1",{style:{textAlign:"center",color:"white",fontSize:"2rem"},children:"FOCUS ON YOUR GROWTH, LET US TAKE CARE OF THE REST"})}),Object(a.jsxs)(ee.a,{span:24,style:{backgroundColor:"white",padding:"4rem",display:"flex",alignItems:"center"},children:[Object(a.jsxs)(ee.a,{xs:24,sm:24,md:12,lg:12,xl:12,style:{paddingLeft:"10rem"},children:[Object(a.jsx)(le,{level:1,style:{fontSize:"2rem",color:"#4D5768",textAlign:"left"},children:"GET EVERYTHING IN ONE PLACE"}),Object(a.jsxs)("h4",{style:{color:"#4D5768",textAlign:"left"},children:["Get notifications when inventory is below a specific quantity, which",Object(a.jsx)("br",{}),"you get to specify.",Object(a.jsx)("br",{}),"Visualize a summary of useful data un the dashboard, along with some of your",Object(a.jsx)("br",{}),"top products, and get all your orders, clients, suppliers and products' information in one useful place."]})]}),Object(a.jsx)(ee.a,{xs:24,sm:24,md:12,lg:12,xl:12,children:Object(a.jsx)("img",{src:"/images/2.png",style:{height:"17rem"}})})]}),Object(a.jsxs)(ee.a,{span:24,style:{backgroundColor:"#81A1C1",padding:"5rem",display:"flex",alignItems:"center"},children:[Object(a.jsx)(ee.a,{xs:24,sm:24,md:12,lg:12,xl:12,children:Object(a.jsx)("img",{src:"/images/3.png",style:{height:"20rem"}})}),Object(a.jsxs)(ee.a,{xs:24,sm:24,md:12,lg:12,xl:12,style:{paddingLeft:"150px"},children:[Object(a.jsxs)(le,{level:1,style:{fontSize:"2rem",color:"white",textAlign:"left"},children:["PREMIUM ANALYTICS"," "]}),Object(a.jsxs)("h4",{style:{color:"white",textAlign:"left"},children:["Get detailed analytics and projections from your sales and customers.",Object(a.jsx)("br",{}),"Visualize in friendly graphics sales over specific periods of time,",Object(a.jsx)("br",{}),"among many other usefull information."]})]})]}),Object(a.jsx)("div",{style:{backgroundColor:"#E7EEF5",height:"30px"},children:Object(a.jsx)("p",{style:{fontSize:"11px",paddingTop:"5px"},children:"PYMES 2020 \xa9 Francisco Vivas & Maria Eugenia Reyna"})})]})}var ft=n(395),yt=function(e){var t=e.component,n=Object(ft.a)(e,["component"]),r=I().user,c=!0;return Object(a.jsx)(o.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return c&&r?Object(a.jsx)(t,Object(i.a)({},e)):Object(a.jsx)(o.a,{to:"/login"})}}))},gt=n(668),vt=n(676);function wt(e){var t=e.sku;return Object(a.jsxs)("div",{style:{backgroundColor:"#EBCB8B",padding:"0.7rem",textAlign:"center",width:"100%",height:"auto",display:"flex",margin:"0.75rem 0"},children:[Object(a.jsx)("img",{src:"/images/alert.png",style:{height:"25px",margin:"auto 2rem auto 1rem"}}),Object(a.jsxs)(oe,{style:{color:"white"},children:["Product"," ",Object(a.jsx)("b",{children:Object(a.jsx)("small",{children:t})})," ","is running low"]})]})}function kt(e){var t=e.sku;return Object(a.jsxs)("div",{style:{backgroundColor:"#BF616A",color:"white",padding:"0.7rem",textAlign:"center",width:"100%",height:"auto",display:"flex",margin:"0.75rem 0"},children:[Object(a.jsx)("img",{src:"/images/out.png",style:{height:"25px",margin:"auto 2rem auto 1rem"}}),Object(a.jsxs)(oe,{style:{color:"white"},children:["You are out of product ",Object(a.jsx)("small",{children:t})]})]})}gt.a.Meta;function It(){var e=I().user,t=Object(r.useState)(null),n=Object(v.a)(t,2),c=n[0],s=n[1];return Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We();case 2:t=e.sent,n=t.data,s(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c?Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{style:{display:"flex",alignContent:"center"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(Pe.a,{size:100,src:e.image,style:{marginRight:"30px"}})}),Object(a.jsxs)("div",{children:[Object(a.jsxs)(le,{style:{textAlign:"left",marginTop:"30px"},children:["Welcome ",e.companyName,"!"]}),Object(a.jsx)(x.a,{})]})]}),Object(a.jsx)("p",{style:{color:"#969696",textAlign:"left"},children:"Here's what's happening in your business"}),Object(a.jsx)(x.a,{}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(le,{level:4,style:{textAlign:"left"},children:"SUMMARY"}),Object(a.jsxs)("div",{style:{display:"flex",margin:"10px",width:"100%"},children:[Object(a.jsx)(gt.a,{style:{margin:"3px",width:"50%",height:"110px",marginTop:"10px"},children:Object(a.jsx)(vt.a,{title:"Total Suppliers",value:e.suppliersID.length})}),Object(a.jsx)(gt.a,{style:{margin:"3px",width:"50%",height:"110px",marginTop:"10px"},children:Object(a.jsx)(vt.a,{title:"Total Clients",value:e.clientsID.length})}),Object(a.jsx)(gt.a,{style:{margin:"3px",width:"50%",height:"110px",marginTop:"10px"},children:Object(a.jsx)(vt.a,{title:"Total Products",value:e.productsID.length})}),Object(a.jsx)(gt.a,{style:{margin:"3px",width:"50%",height:"110px",marginTop:"10px"},children:Object(a.jsx)(vt.a,{title:"Total Sales",value:e.ordersID.length})})]}),c.length?Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)("div",{children:Object(a.jsx)(le,{level:4,style:{textAlign:"left"},children:"TOP PRODUCTS"})}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(a.jsxs)(gt.a,{hoverable:!0,style:{width:"30%",height:"70%",margin:"5px"},children:[Object(a.jsx)("img",{src:c[0].image,style:{width:"100%",textAlign:"center"}}),Object(a.jsx)(x.a,{style:{margin:"5px"}}),Object(a.jsx)("p",{style:{fontSize:"0.7rem",margin:"0px"},children:c[0].name})]}),Object(a.jsxs)(gt.a,{hoverable:!0,style:{width:"30%",height:"70%",margin:"5px"},children:[Object(a.jsx)("img",{src:c[1].image,style:{width:"100%",textAlign:"center"}}),Object(a.jsx)(x.a,{style:{margin:"5px"}}),Object(a.jsx)("p",{style:{fontSize:"0.7rem",margin:"0px"},children:c[1].name})]}),Object(a.jsxs)(gt.a,{hoverable:!0,style:{width:"30%",height:"70%",margin:"5px"},children:[Object(a.jsx)("img",{src:c[2].image,style:{width:"100%",textAlign:"center"}}),Object(a.jsx)(x.a,{style:{margin:"5px"}}),Object(a.jsx)("p",{style:{fontSize:"0.7rem",margin:"0px"},children:c[2].name})]})]})]}):Object(a.jsx)(le,{level:3,style:{margin:"2rem"},children:"Try to add some products to unlock more functionality!"})]}),c.length>0&&Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:"10px"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(le,{level:4,style:{textAlign:"left"},children:"NOTIFICATIONS"})}),Object(a.jsxs)("div",{children:[c.map((function(e){return e.quantity<1?Object(a.jsx)(kt,{sku:e.sku},e._id):Object(a.jsx)(a.Fragment,{})})),c.map((function(e){return e.quantity<e.threshold&&e.quantity>0?Object(a.jsx)(wt,{sku:e.sku},e._id):Object(a.jsx)(a.Fragment,{})}))]})]})]})]}):Object(a.jsx)(Oe.a,{active:!0})}var St=n(371),Ct=n.n(St),Dt=n(372),Pt=n(373),Et=n(397),At=n(391),Lt=function(e){Object(Et.a)(n,e);var t=Object(At.a)(n);function n(e){var a;return Object(Dt.a)(this,n),(a=t.call(this)).state={columns:[{title:"Product",dataIndex:"product",key:"product"},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Unit Price",dataIndex:"price",key:"price"},{title:"Subtotal",dataIndex:"subtotal",key:"subtotal"}]},a}return Object(Pt.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.orders,r=this.state.columns,c=n.items.map((function(e,t){return{key:n.items[t]._id,product:n.items[t].name,price:n.itemsSalePrice[t],quantity:n.itemsQuantity[t],subtotal:n.itemsSubtotal[t]}}));return Object(a.jsxs)("div",{stlye:{height:"750px",width:"563px",margin:"48px",display:"flex",flexDirection:"column"},children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:t.image,style:{height:"100px",marginTop:"48px"}})}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{style:{marginLeft:"48px"},children:[Object(a.jsxs)("h2",{style:{textAlign:"left",color:"black"},children:["INVOICE #",n.orderNum]}),Object(a.jsx)("h4",{style:{textAlign:"left",color:"black"},children:t.phone}),Object(a.jsx)("h4",{style:{textAlign:"left",color:"black"},children:t.email}),Object(a.jsx)(x.a,{})]}),Object(a.jsxs)("div",{style:{margin:"48px",textAlign:"left"},children:[Object(a.jsxs)("h4",{children:[Object(a.jsx)("b",{children:"Order Date:"})," ",n.date]}),Object(a.jsxs)("h4",{children:[Object(a.jsx)("b",{children:"BILL TO:"})," ",n.date]}),Object(a.jsx)(x.a,{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(A.a,{dataSource:c,columns:r,style:{color:"grey"},pagination:!1}),Object(a.jsx)(x.a,{}),Object(a.jsxs)("h4",{style:{textAlign:"right"},children:[Object(a.jsx)("b",{children:"TOTAL"})," $",n.total]}),Object(a.jsx)(x.a,{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{style:{textAlign:"left"},children:["Thank you for shopping at ",t.companyName,Object(a.jsx)("br",{}),"Sincerely yours,",Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("b",{children:["The ",t.companyName," Team"]})]})]})]})]})}}]),n}(r.Component),Tt=function(e){var t,n=e.match.params.ordersID,c=Object(r.useState)(null),s=Object(v.a)(c,2),o=s[0],j=s[1],b=I().user,O=Object(r.useRef)();Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(n);case 2:t=e.sent,a=t.data,j(Object(i.a)({},a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var p=o||{},h=p.date,m=p.clientID,f=p.total,y=p.payment,g=p.fulfillment,w=p.items,k=(p.extra,p.itemsQuantity),S=p.itemsSalePrice,C=p.itemsSubtotal,D=p.orderNum;return o?Object(a.jsxs)(Z.a,{justify:"center",align:"middle",children:[Object(a.jsxs)(Z.a,{justify:"space-between",style:{width:"100%"},children:[Object(a.jsxs)(ee.a,{xs:24,sm:24,md:12,lg:12,xl:12,style:{textAlign:"left"},children:[Object(a.jsxs)(le,{level:2,children:["ORDER # ",D]}),Object(a.jsxs)(le,{level:5,children:["Client: ",null===m||void 0===m?void 0:m.name]})]}),Object(a.jsx)(ee.a,{xs:24,sm:24,md:12,lg:12,xl:12,style:{textAlign:"right",marginTop:"auto"},children:Object(a.jsx)(le,{level:5,children:h})})]}),Object(a.jsx)(x.a,{}),Object(a.jsxs)(Z.a,{style:{width:"100%"},children:[Object(a.jsxs)(Z.a,{style:{width:"100%"},children:[Object(a.jsx)(le,{level:5,style:{textAlign:"left",width:"100%"},children:"Order Summary"}),Object(a.jsx)(ee.a,{span:24,style:{height:"100%"},children:Object(a.jsx)(Ne.b,(t={style:{margin:"0.5rem",marginTop:"1rem"},pagination:{pageSize:4},itemLayout:"horizontal",dataSource:w},Object(Je.a)(t,"style",{width:"100%"}),Object(Je.a)(t,"renderItem",(function(e,t){return Object(a.jsx)(Ne.b.Item,{actions:[Object(a.jsxs)("p",{children:["Subtotal:"," ","$".concat(C[t]).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})],children:Object(a.jsx)(Ne.b.Item.Meta,{avatar:Object(a.jsx)(xt.a,{shape:"square",size:64,src:e.image,style:{marin:"auto"}}),title:e.name,description:Object(a.jsx)(oe,{children:Object(a.jsxs)("small",{children:["Price: $".concat(S[t]).replace(/\B(?=(\d{3})+(?!\d))/g,",")," ",Object(a.jsx)("br",{}),"Quantity: ",k[t]]})})})},t._id)})),t))}),Object(a.jsx)("br",{})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(le,{level:4,style:{textAlign:"right",width:"100%"},children:["TOTAL $",f]}),Object(a.jsx)("br",{}),Object(a.jsxs)(Z.a,{justify:"space-between",align:"middle",style:{width:"100%"},children:[Object(a.jsx)(ee.a,{xs:24,sm:24,md:12,lg:12,span:12,style:{display:"flex"},children:Object(a.jsxs)(Z.a,{justify:"space-around",align:"middle",style:{width:"100%"},children:[Object(a.jsx)(ee.a,{children:"PAID"===y?Object(a.jsx)("p",{style:{backgroundColor:"#A3BE8C",color:"white",padding:"5px 10px",margin:"10px"},children:"PAID"}):Object(a.jsx)("p",{style:{backgroundColor:"#BF616A",color:"white",padding:"5px 10px",margin:"10px"},children:"UNPAID"})}),Object(a.jsx)(ee.a,{children:"PENDING"===g?Object(a.jsx)("p",{style:{backgroundColor:"#EBCB8B",color:"white",padding:"5px 10px",margin:"10px"},children:"PENDING"}):"FULFILLED"===g?Object(a.jsx)("p",{style:{backgroundColor:"#A3BE8C",color:"white",padding:"5px 10px",margin:"10px"},children:"FULFILLED"}):Object(a.jsx)("p",{style:{backgroundColor:"#BF616A",color:"white",padding:"5px 10px",margin:"10px"},children:"CANCELLED"})})]})}),Object(a.jsx)(ee.a,{xs:24,sm:24,md:12,lg:12,span:12,children:Object(a.jsxs)(Z.a,{justify:"space-around",align:"middle",style:{width:"100%"},children:[Object(a.jsxs)(ee.a,{children:[Object(a.jsx)(Ct.a,{trigger:function(){return Object(a.jsx)(K,{type:"secondary",style:{margin:"10px"},children:"Export Invoice"})},content:function(){return O.current}}),Object(a.jsx)(ee.a,{style:{display:"none"},children:Object(a.jsx)(Lt,{ref:O,orders:o,user:b})})]}),Object(a.jsx)(l.b,{to:"/orders/".concat(o._id,"/edit"),children:Object(a.jsx)(K,{type:"primary",style:{margin:"10px"},children:"Edit Order"})})]})})]})]})]}):Object(a.jsx)(Oe.a,{active:!0})},Ft=n(682),Nt=gt.a.Meta;function Bt(e){var t=e.product,n=e.isSupplier,r=void 0!==n&&n,c=t.quantity<=0?"#BF616A":t.quantity<=t.threshold?"#EBCB8B":"none",s=t.quantity<=t.threshold?{style:{boxShadow:" 0px 7px 15px -3px ".concat(c)}}:{},o=function(){return Object(a.jsx)(gt.a,Object(i.a)(Object(i.a)({},s),{},{hoverable:!0,actions:[Object(a.jsx)(l.b,{to:"/products/".concat(t._id),children:Object(a.jsx)(oe,{type:"primary",children:"Details"})})],children:Object(a.jsx)(l.b,{to:"/products/".concat(t._id),children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{display:"flex",margin:"auto"},children:Object(a.jsx)("img",{style:r?{boxSizing:"border-box",width:"100%",margin:"0 auto 1rem",objectFit:"cover",height:"4rem"}:{height:"8rem",boxSizing:"border-box",width:"100%",margin:"0 auto 1rem",objectFit:"cover"},alt:t.name,src:t.image})}),Object(a.jsx)(Nt,{title:t.name,style:{height:"100%"},description:r?Object(a.jsx)(oe,{children:Object(a.jsxs)("small",{children:["Wholesales price: ",Object(a.jsx)("br",{})," ","$".concat(t.wholesalePrice).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})}):Object(a.jsxs)(Ft.b,{direction:"vertical",children:[Object(a.jsxs)(oe,{children:["Quantity: ",Object(a.jsx)("br",{})," ",t.quantity]}),Object(a.jsx)(oe,{children:Object(a.jsxs)("small",{children:["Sales price: ",Object(a.jsx)("br",{})," ","$".concat(t.salePrice).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})})]})})]})})}))};return Object(a.jsx)(Ne.b.Item,{style:{},children:Object(a.jsx)(o,{})})}var zt=function(e){var t=e.match.params.suppliersID,n=Object(r.useState)(!1),c=Object(v.a)(n,2),s=(c[0],c[1],Object(o.g)()),i=Object(r.useState)({}),j=Object(v.a)(i,2),b=j[0],O=j[1];function p(){return(p=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt(t);case 2:s.push("/suppliers");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(t);case 2:n=e.sent,a=n.data,O(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var h=b.name,m=b.phone,f=b.email,y=b.channel,g=b.lastOrder;b.products;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"space-between"},children:[Object(a.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:[Object(a.jsx)(le,{level:2,children:h}),Object(a.jsx)(x.a,{}),Object(a.jsxs)(le,{level:5,children:[m," "]}),Object(a.jsx)(le,{level:5,children:f}),Object(a.jsxs)(le,{level:5,children:["Channel: ",y]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(E.a,{type:"secondary",style:{margin:"-50px",backgroundColor:"#BF616A",color:"white",border:"none"},onClick:function(){return p.apply(this,arguments)},children:"Delete Supplier"}),Object(a.jsx)("br",{}),Object(a.jsx)(l.b,{to:"/suppliers/".concat(b._id,"/edit"),children:Object(a.jsx)(K,{type:"primary",style:{margin:"30px"},children:"Edit Supplier"})}),Object(a.jsxs)(le,{level:5,children:["Last Order: ",g]})]})]}),Object(a.jsx)(x.a,{}),Object(a.jsxs)("div",{style:{height:"100%"},children:[Object(a.jsx)(le,{level:5,style:{textAlign:"left"},children:"Products"}),Object(a.jsx)(Z.a,{gutter:[16,16],style:{padding:"1rem",paddingBottom:"0",marginTop:"1rem",height:"auto",overflowY:"scroll"},children:Object(a.jsx)(Ne.b,{style:{margin:"0.5rem",width:"100%"},pagination:{pageSize:6},dataSource:b.products,renderItem:function(e){return Object(a.jsx)(Bt,{product:e,isSupplier:!0})},grid:{gutter:16,xs:1,sm:2,md:4,lg:4,xl:6,xxl:3}})},"a")]})]})},Mt=ne.a.Text;function Rt(e){var t=e.match.params.ordersID,n=te.a.useForm(),c=Object(v.a)(n,1)[0],s=Object(o.g)(),l=Object(r.useState)({}),j=Object(v.a)(l,2),b=j[0],O=j[1],p=Object(r.useState)(!1),h=Object(v.a)(p,2),m=h[0],f=h[1],y=Object(r.useState)([]),g=Object(v.a)(y,2),w=g[0],k=g[1],I=Object(r.useState)([]),S=Object(v.a)(I,2),C=S[0],D=S[1],P=Object(r.useState)(!1),E=Object(v.a)(P,2),A=E[0],L=E[1],T=Object(r.useState)(0),N=Object(v.a)(T,2),z=N[0],R=N[1];Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var n,a,r,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:return n=e.sent,a=n.data,O(a),e.next=7,ze();case 7:r=e.sent,s=r.data,k(s),l=a.items.map((function(e,t){return Object(i.a)(Object(i.a)({},e),{},{quantity:a.itemsQuantity[t],salePrice:a.itemsSalePrice[t],subtotal:a.itemsSubtotal[t]})})),D(l),c.setFieldsValue(Object(i.a)(Object(i.a)({},a),{},{clientID:a.clientID._id})),R(l.reduce((function(e,t){return e+t.salePrice*t.quantity}),0));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze();case 2:t=e.sent,n=t.data,k(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m]);var q=function(){return Object(a.jsx)(Te.a,{visible:m,title:"New Client",okText:"Done",cancelText:"Cancel",onCancel:function(){return f(!1)},onOk:function(){return f(!1)},children:Object(a.jsx)(at,{inAModal:!0,setIsModalClient:f})})};function U(){return(U=Object(u.a)(d.a.mark((function e(n){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(i.a)(Object(i.a)({},n),{},{productsList:C,total:z}),e.next=3,B(b._id,a);case 3:r=e.sent,c=r.data,O(c),s.push("/orders/".concat(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return b&&Object(a.jsx)(Z.a,{align:"center",children:Object(a.jsxs)(ee.a,{xs:24,sm:18,md:12,lg:12,children:[Object(a.jsx)(le,{level:1,children:"Edit your order"}),Object(a.jsx)(Mt,{type:"secondary",children:"Update your order details"}),Object(a.jsx)(x.a,{}),Object(a.jsxs)(te.a,{form:c,layout:"horizontal",onFinish:function(e){return U.apply(this,arguments)},initialValues:b,children:[Object(a.jsx)(te.a.Item,{name:"date",label:"Date:",children:Object(a.jsx)(M.a,{active:!0,disabled:!0})}),Object(a.jsx)(te.a.Item,{name:"clientID",label:"Client:",children:Object(a.jsx)(de.a,{dropdownRender:function(e){return function(e){return Object(a.jsxs)("div",{children:[e,Object(a.jsx)(x.a,{style:{margin:"4px 0"}}),Object(a.jsx)(q,{}),Object(a.jsx)(K,{type:"secondary",onClick:function(){return f(!m)},children:"New Client"})]})}(e)},children:w.map((function(e){return Object(a.jsx)(de.a.Option,{value:e._id,children:e.name})}))})}),Object(a.jsx)(te.a.Item,{name:"payment",label:"Payment:",children:Object(a.jsxs)(de.a,{children:[Object(a.jsx)(de.a.Option,{value:"UNPAID",children:"UNPAID"}),Object(a.jsx)(de.a.Option,{value:"PAID",children:"PAID"})]})}),Object(a.jsx)(te.a.Item,{name:"fulfillment",label:"Fulfillment:",children:Object(a.jsxs)(de.a,{children:[Object(a.jsx)(de.a.Option,{value:"PENDING",children:"PENDING"}),Object(a.jsx)(de.a.Option,{value:"FULFILLED",children:"FULFILLED"}),Object(a.jsx)(de.a.Option,{value:"CANCELLED",children:"CANCELLED"})]})}),Object(a.jsx)(te.a.Item,{name:"extra",label:"Comments:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(tt,{isModal:A,setIsModal:L,HandlerAddQuantity:function(e){var t=Object.keys(e).map((function(t){return e[t]})).filter((function(e){return e.quantity}));D(t),R(t.reduce((function(e,t){return e+t.salePrice*t.quantity}),0))}}),Object(a.jsx)(Ne.b,{style:{margin:"0.5rem"},pagination:{pageSize:3},itemLayout:"horizontal",dataSource:C,renderItem:function(e){return Object(a.jsx)(Ne.b.Item,{actions:[Object(a.jsxs)("p",{children:["Subtotal:"," ","$".concat(e.quantity*e.salePrice).replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),Object(a.jsx)(K,{onClick:function(){return function(e){var t=C.filter((function(t){return t._id!==e}));D(t),R(t.reduce((function(e,t){return e+t.salePrice*t.quantity}),0))}(e._id)},danger:!0,children:"Remove"})],children:Object(a.jsx)(Ne.b.Item.Meta,{avatar:Object(a.jsx)(Pe.a,{src:e.image,size:"large",style:{marin:"auto"}}),title:e.name,description:Object(a.jsx)(oe,{children:Object(a.jsxs)("small",{children:["Price: $".concat(e.salePrice).replace(/\B(?=(\d{3})+(?!\d))/g,",")," ",Object(a.jsx)("br",{}),"Quantity: ",e.quantity]})})})},e._id)}}),Object(a.jsxs)(le,{level:5,children:["TOTAL : $","".concat(z).replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(a.jsx)(K,{type:"secondary",style:{marginBottom:"1.5rem"},onClick:function(){return L(!A)},children:"Add Items"}),Object(a.jsx)(K,{type:"primary",htmlType:"submit",size:"middle",children:"Edit Order"})]})]})]})})}var qt=Object(a.jsx)(xe.a,{style:{fontSize:24},spin:!0});function Ut(e){var t=e.match.params.suppliersID,n=te.a.useForm(),c=Object(v.a)(n,1)[0],s=Object(o.g)(),l=Object(r.useState)({}),j=Object(v.a)(l,2),b=j[0],O=j[1],p=Object(r.useState)(!1),h=Object(v.a)(p,2),m=h[0],f=h[1],y=Object(r.useState)([]),g=Object(v.a)(y,2),w=g[0],k=g[1],I=Object(r.useState)(!1),S=Object(v.a)(I,2),C=S[0],D=S[1];function P(){return(P=Object(u.a)(d.a.mark((function e(n){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),a=Object(i.a)(Object(i.a)({},n),{},{products:w.map((function(e){return e._id}))}),e.next=4,ut(b._id,a);case 4:r=e.sent,c=r.data,O(c),s.push("/suppliers/".concat(t));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(t);case 2:n=e.sent,a=n.data,O(a),k(a.products),c.setFieldsValue(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return b&&Object(a.jsx)(Z.a,{justify:"center",align:"middle",gutter:[16,16],children:C?Object(a.jsx)(ee.a,{xs:24,sm:18,md:12,lg:8,style:{height:"100%"},children:Object(a.jsx)(be.a,{indicator:qt,style:{margin:"auto"}})}):Object(a.jsxs)(ee.a,{xs:24,sm:18,md:12,lg:8,children:[Object(a.jsx)(le,{level:1,children:"Edit your supplier"}),Object(a.jsx)(oe,{type:"secondary",children:"Update your supplier details"}),Object(a.jsx)(x.a,{}),Object(a.jsxs)(te.a,{form:c,layout:"horizontal",onFinish:function(e){return P.apply(this,arguments)},initialValues:b,children:[Object(a.jsx)(te.a.Item,{name:"name",label:"Name:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"phone",label:"Phone:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"email",label:"Email:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"channel",label:"Channel:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"lastOrder",label:"Last Order:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(tt,{isModal:m,setIsModal:f,HandlerAddQuantity:function(e){var t=Object.keys(e).map((function(t){return e[t]}));k(Object(Le.a)(t))},isSupplier:!0}),Object(a.jsx)(Ne.b,{style:{margin:"0.5rem"},pagination:{pageSize:4},itemLayout:"horizontal",dataSource:w,renderItem:function(e){return Object(a.jsx)(Ne.b.Item,{actions:[Object(a.jsx)(K,{onClick:function(){return t=e._id,void k(w.filter((function(e){return e._id!==t})));var t},danger:!0,children:"Remove"})],children:Object(a.jsx)(Ne.b.Item.Meta,{avatar:Object(a.jsx)(Pe.a,{src:e.image,style:{marin:"auto"}}),title:e.name})})}}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(a.jsx)(K,{type:"secondary",style:{marginBottom:"1.5rem"},onClick:function(){return f(!m)},children:"Add Items"}),Object(a.jsx)(K,{type:"primary",htmlType:"submit",children:"Edit Supplier"})]})]})]})})}var _t=Object(a.jsx)(xe.a,{style:{fontSize:24},spin:!0});function Ht(e){var t=e.match.params.clientsID,n=te.a.useForm(),c=Object(v.a)(n,1)[0],s=Object(o.g)(),i=Object(r.useState)({}),l=Object(v.a)(i,2),j=l[0],b=l[1],O=Object(r.useState)(!1),p=Object(v.a)(O,2),h=p[0],m=p[1];function f(){return(f=Object(u.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,qe(j._id,t);case 3:n=e.sent,a=n.data,b(a),s.push("/clients");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(t);case 2:s.push("/clients");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(t);case 2:n=e.sent,a=n.data,b(a),c.setFieldsValue(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.jsx)(Z.a,{align:"center",children:h?Object(a.jsx)(ee.a,{xs:24,sm:18,md:12,lg:8,style:{height:"100%"},children:Object(a.jsx)(be.a,{indicator:_t,style:{margin:"auto"}})}):Object(a.jsxs)(ee.a,{xs:24,sm:18,md:12,lg:8,children:[Object(a.jsx)(le,{style:{margin:"2rem"},children:" Edit Client "}),Object(a.jsxs)(te.a,{form:c,layout:"horizontal",onFinish:function(e){return f.apply(this,arguments)},children:[Object(a.jsx)(te.a.Item,{name:"name",label:"Name:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"phone",label:"Phone:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"email",label:"Email:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"address",label:"Address:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(K,{type:"primary",size:"middle",htmlType:"submit",children:"Edit Client"})]}),Object(a.jsx)(x.a,{}),Object(a.jsx)(E.a,{type:"primary",danger:!0,onClick:function(){return y.apply(this,arguments)},children:"Delete Client"})]})})}function Vt(){var e=Object(r.useState)(null),t=Object(v.a)(e,2),n=t[0],c=t[1];Object(o.g)();Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot();case 2:t=e.sent,n=t.data,c(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=null===n||void 0===n?void 0:n.map((function(e){return{key:e._id,name:e.name,phone:e.phone,email:e.email,channel:e.channel,lastOrder:e.lastOrder,details:Object(a.jsx)(l.b,{to:"/suppliers/".concat(e._id),children:Object(a.jsx)(K,{type:"secondary",children:"Supplier Details"})})}}));return Object(a.jsxs)("div",{children:[Object(a.jsx)(l.b,{to:"/suppliers/create-supplier",children:Object(a.jsx)(E.a,{style:{float:"left",color:"#4D5768",border:"1px dashed #4D5768"},children:"New Supplier"})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(A.a,{dataSource:s,columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Phone",dataIndex:"phone",key:"phone"},{title:"Email",dataIndex:"email",key:"email"},{title:"Channel",dataIndex:"channel",key:"channel"},{title:"Last Order",dataIndex:"lastOrder",key:"lastOrder"},{title:"",dataIndex:"details",key:"details"}]})]})}function Wt(){var e=Object(r.useState)(null),t=Object(v.a)(e,2),n=t[0],c=t[1];Object(o.g)();Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze();case 2:t=e.sent,n=t.data,c(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=null===n||void 0===n?void 0:n.map((function(e){return{key:e._id,name:e.name,phone:e.phone,email:e.email,address:e.address,edit:Object(a.jsx)(l.b,{to:"/clients/".concat(e._id,"/edit"),children:Object(a.jsx)(K,{type:"secondary",children:"Edit Client"})})}}));return Object(a.jsxs)("div",{children:[Object(a.jsx)(l.b,{to:"/clients/create-client",children:Object(a.jsx)(E.a,{style:{float:"left",color:"#4D5768",border:"1px dashed #4D5768"},children:"New Client"})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(A.a,{dataSource:s,columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Phone",dataIndex:"phone",key:"phone"},{title:"Email",dataIndex:"email",key:"email"},{title:"Address",dataIndex:"address",key:"address"},{title:"",dataIndex:"edit",key:"edit"}]})]})}xe.a;var $t=M.a.Search;function Qt(){var e=Object(r.useState)(!1),t=Object(v.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(null),i=Object(v.a)(s,2),o=i[0],j=i[1],b=Object(r.useState)(null),O=Object(v.a)(b,2),x=O[0],p=O[1];Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We();case 2:t=e.sent,n=t.data,p(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||"SEARCHALLTHEPRODUCTS"===o){e.next=8;break}return e.next=3,Ke({searchString:o,hasQuantity:!1});case 3:n=e.sent,a=n.data,t=a,e.next=13;break;case 8:return e.next=10,We();case 10:r=e.sent,c=r.data,t=c;case 13:p(t);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o&&function(){e.apply(this,arguments)}()}),[o]);return Object(a.jsx)(Z.a,{children:Object(a.jsxs)(ee.a,{span:24,children:[Object(a.jsxs)(Z.a,{children:[Object(a.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"},children:[Object(a.jsx)(l.b,{to:"/products/create",children:Object(a.jsx)(E.a,{style:{float:"left",color:"#4D5768",border:"1px dashed #4D5768"},children:"New Product"})}),Object(a.jsx)($t,{onChange:function(e){var t=e.target.value;j(t||"SEARCHALLTHEPRODUCTS"),c(!!t)},placeholder:"Search",onSearch:function(e){e?(j(e),c(!0)):(j(""),c(!1))},style:{marginLeft:"2rem"}})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]},"1"),Object(a.jsx)(Z.a,{gutter:[16,16],style:{paddingBottom:"0",margin:"1rem 0 0",height:"90%"},children:n||x?Object(a.jsx)(Ne.b,{style:{width:"100%",height:"100%",overflowY:"scroll",overflowX:"hidden"},pagination:{pageSize:8},dataSource:x,renderItem:function(e){return Object(a.jsx)(Bt,{product:e})},grid:{gutter:[16,16],xs:1,sm:2,md:4,lg:4,xl:6,xxl:8}}):x?new Array(8).fill(null).map((function(e,t){return Object(a.jsx)(ee.a,{children:Object(a.jsx)(gt.a,{style:{width:300,marginTop:16},children:Object(a.jsx)(Oe.a,{loading:!x,avatar:!0,active:!0})})},Math.pow(t+5,5))})):Object(a.jsx)(le,{level:3,children:"Try to add some products!"})})]})})}function Gt(e){var t,n,c=e.match.params.productID,s=Object(r.useState)(null),i=Object(v.a)(s,2),o=i[0],j=i[1];Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(c);case 2:t=e.sent,n=t.data,j(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var b=(null===o||void 0===o?void 0:o.quantity)<=0?"#BF616A":(null===o||void 0===o?void 0:o.quantity)<=(null===o||void 0===o?void 0:o.threshold)?"#EBCB8B":"#4d5768";return o?Object(a.jsxs)(Z.a,{gutter:[16,16],children:[Object(a.jsx)(ee.a,{xs:24,sm:24,md:12,lg:12,children:Object(a.jsxs)("div",{style:{marginLeft:"2rem"},children:[Object(a.jsxs)("div",{style:{textAlign:"left"},children:[Object(a.jsx)(le,{level:3,children:o.name.toUpperCase()}),o.sku?Object(a.jsxs)(le,{level:5,children:["SKU: ",o.sku]}):" ",Object(a.jsx)(x.a,{})]}),Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"start",fontWeight:"bold"},children:[Object(a.jsxs)(oe,{style:{color:b},children:["Quantity ",o.quantity," "]}),Object(a.jsxs)(oe,{children:["Supplier:"," ",Object(a.jsx)(l.b,{to:"/suppliers/".concat(null===(t=o.supplierID)||void 0===t?void 0:t._id),children:null===(n=o.supplierID)||void 0===n?void 0:n.name})||"No info."]}),Object(a.jsxs)(oe,{style:{marginTop:"2rem"},children:["Wholesale Price:"," ",Object(a.jsx)("span",{style:{marginLeft:"2rem"},children:"$".concat(o.wholesalePrice).replace(/\B(?=(\d{3})+(?!\d))/g,",")})]}),Object(a.jsxs)(oe,{children:["Sale Price Price:"," ",Object(a.jsx)("span",{style:{marginLeft:"2rem"},children:"$".concat(o.salePrice).replace(/\B(?=(\d{3})+(?!\d))/g,",")})]})]}),Object(a.jsx)("div",{})]})}),Object(a.jsx)(ee.a,{xs:24,sm:24,md:12,lg:12,children:Object(a.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(a.jsx)("div",{children:o.image?Object(a.jsx)("img",{src:o.image,alt:o.name,style:{height:"auto",width:"50%",boxSizing:"border-box",textAlign:"right"}}):Object(a.jsx)(oe,{children:"No image available (but you can always edit it)."})}),Object(a.jsx)("div",{style:{textAlign:"right",margin:"2rem 9rem"},children:Object(a.jsx)(l.b,{to:"/products/".concat(o._id,"/edit"),children:Object(a.jsx)(K,{type:"primary",children:"Edit Product"})})})]})})]}):Object(a.jsx)(Oe.a,{active:!0})}var Yt=Object(a.jsx)(xe.a,{style:{fontSize:24},spin:!0}),Kt="https://api.cloudinary.com/v1_1/franciscovivascodes/image/upload";function Jt(e){var t,n=e.isNew,c=void 0===n||n,s=e.match;t=s?s.params.productID:null;var l=Object(r.useState)(null),j=Object(v.a)(l,2),b=j[0],O=j[1],x=Object(r.useState)(!1),p=Object(v.a)(x,2),m=p[0],f=p[1],y=te.a.useForm(),g=Object(v.a)(y,1)[0],w=Object(o.g)(),k=I(),S=k.user,C=k.login,D=Object(r.useState)(null),P=Object(v.a)(D,2),E=P[0],A=P[1],L=Object(r.useState)([]),T=Object(v.a)(L,2),F=T[0],N=T[1],B=Object(r.useState)(!1),z=Object(v.a)(B,2),M=z[0],R=z[1];function q(){return(q=Object(u.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!0),!c){e.next=7;break}return e.next=4,Ge(Object(i.a)(Object(i.a)({},t),{},{image:b}));case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,Ye(E._id,Object(i.a)(Object(i.a)({},t),{},{image:b}));case 9:e.t0=e.sent;case 10:return n=e.t0,a=n.data,c&&C(Object(i.a)(Object(i.a)({},S),{},{productsID:[].concat(Object(Le.a)(S.productsID),[a._id])})),e.abrupt("return",w.push("/products"));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var n,a,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(t);case 2:a=e.sent,r=a.data,c=null===(n=r.supplierID)||void 0===n?void 0:n._id,s=Object(i.a)(Object(i.a)({},r),{},{supplierID:c}),A(s),O(s.image),g.setFieldsValue(s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot();case 2:t=e.sent,n=t.data,N(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t?function(){e.apply(this,arguments)}():g.setFieldsValue({salePrice:5e3,wholesalePrice:1e3,quantity:1,threshold:0}),function(){n.apply(this,arguments)}()}),[]);var U=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=8;break}if(n=t.url){e.next=6;break}return e.next=5,new Promise((function(e){var n=new FileReader;n.readAsDataURL(t.originFileObj),n.onload=function(){return e(n.result)}}));case 5:n=e.sent;case 6:e.next=9;break;case 8:n=E.image;case 9:n&&((a=new Image).src=n,window.open(n).document.write(a.outerHTML));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function _(){return(_=Object(u.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),(n=new FormData).append("file",t),n.append("upload_preset","pymes-productImage"),e.next=6,h.a.post(Kt,n);case 6:a=e.sent,r=a.data.secure_url,O(r),f(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=Object(a.jsxs)("div",{children:[m?Object(a.jsx)(xe.a,{}):Object(a.jsx)(pe.a,{}),Object(a.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return E||c?Object(a.jsx)(Z.a,{justify:"center",align:"center",children:M?Object(a.jsx)(ee.a,{xs:24,sm:18,md:12,lg:8,children:Object(a.jsx)(be.a,{indicator:Yt,style:{margin:"auto"}})}):Object(a.jsxs)(ee.a,{xs:24,sm:18,md:12,lg:8,children:[Object(a.jsx)(le,{style:{margin:"2rem"},children:c?"New Product":"Edit Product"}),Object(a.jsxs)(te.a,{form:g,layout:"horizontal",wrapperCol:24,onFinish:function(e){return q.apply(this,arguments)},children:[Object(a.jsx)(te.a.Item,{name:"name",label:"Product Name:",rules:[{required:!0,message:"Please input the product name!"}],children:Object(a.jsx)(Y,{style:{backgroundColor:"white"}})}),Object(a.jsx)(te.a.Item,{name:"salePrice",label:"Sale Price:",rules:[{required:!0,message:"Please input a valid value!"}],children:Object(a.jsx)(Xe.a,{style:{width:"100%"},formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}})}),Object(a.jsx)(te.a.Item,{name:"wholesalePrice",label:"Wholesale Price:",children:Object(a.jsx)(Xe.a,{style:{width:"100%"},formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")}})}),Object(a.jsx)(te.a.Item,{name:"quantity",label:"Quantity:",rules:[{required:!0,message:"Please input a valid quantity!"}],children:Object(a.jsx)(Xe.a,{style:{width:"100%"}})}),Object(a.jsx)(te.a.Item,{name:"threshold",label:"Alert Low Quantity:",children:Object(a.jsx)(Xe.a,{style:{width:"100%"}})}),Object(a.jsx)(te.a.Item,{label:"Suppliers",name:"supplierID",children:Object(a.jsx)(de.a,{children:null===F||void 0===F?void 0:F.map((function(e){return Object(a.jsx)(de.a.Option,{value:e._id,children:e.name})}))})}),Object(a.jsx)(te.a.Item,{name:"sku",label:"SKU:",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(te.a.Item,{name:"image",label:"Product Image:",children:Object(a.jsx)(ue.a,{showUploadList:!1,listType:"picture-card",beforeUpload:function(e){return _.apply(this,arguments)},onPreview:U,name:"image",children:b?Object(a.jsx)("img",{src:b,alt:"product-image",style:{width:"100%"}}):H})}),Object(a.jsx)(K,{type:"primary",size:"middle",htmlType:"submit",children:c?"Create Product":"Update Product"})]})]})}):Object(a.jsx)(Oe.a,{active:!0})}var Xt=n(232),Zt=n(686),en=n(672),tn=n(679),nn=n(688),an=n(673),rn=n(690),cn=n(57),sn=n.n(cn),ln=Fe.a.RangePicker,on=function(e){var t=e.form,n=e.setConfigs,c=Object(r.useState)({dateRange:"last7days",rangePicker:[sn()().subtract(7,"days"),sn()()]}),s=Object(v.a)(c,2),l=s[0],o=s[1];return Object(r.useEffect)((function(){t.setFieldsValue(l)}),[l]),Object(a.jsx)(O.a,{children:Object(a.jsxs)(te.a,{layout:"vertical",form:t,onFinish:function(e){var t=sn.a.range(e.rangePicker[0],e.rangePicker[1]);n(Object(i.a)(Object(i.a)({},e),{},{rangePicker:t}))},initialValues:l,style:{height:"100%",margin:"1rem"},children:[Object(a.jsx)(te.a.Item,{name:"dateRange",label:"Date range",children:Object(a.jsxs)(de.a,{onSelect:function(e){var t=[];switch(e){case"last7days":t.push(sn()().subtract(7,"days"));break;case"last15days":t.push(sn()().subtract(15,"days"));break;case"last30days":t.push(sn()().subtract(30,"days"));break;case"lastMonth":t.push(sn()().subtract(1,"months").startOf("month"));break;case"weekToDate":t.push(sn()().startOf("week"));break;case"monthToDate":t.push(sn()().startOf("month"));break;case"quarterToDate":t.push(sn()().startOf("quarter"));break;case"yearToDate":t.push(sn()().startOf("year"))}"custom"!==e&&("lastMonth"!==e?t.push(sn()()):t.push(sn()().subtract(1,"months").endOf("month")),o(Object(i.a)(Object(i.a)({},l),{},{rangePicker:t,dateRange:e})))},children:[Object(a.jsx)(de.a.Option,{value:"last7days",children:"Last 7 days"}),Object(a.jsx)(de.a.Option,{value:"last15days",children:"Last 15 days"}),Object(a.jsx)(de.a.Option,{value:"last30days",children:"Last 30 days"}),Object(a.jsx)(de.a.Option,{value:"lastMonth",children:"Last Month"}),Object(a.jsx)(de.a.Option,{value:"weekToDate",children:"Week to date"}),Object(a.jsx)(de.a.Option,{value:"monthToDate",children:"Month to date"}),Object(a.jsx)(de.a.Option,{value:"quarterToDate",children:"Quarter to date"}),Object(a.jsx)(de.a.Option,{value:"yearToDate",children:"Year to date"}),Object(a.jsx)(de.a.Option,{value:"custom",children:"Custom"})]})}),Object(a.jsx)(te.a.Item,{name:"rangePicker",children:Object(a.jsx)(ln,{onCalendarChange:function(e){o({dateRange:"custom",rangePicker:e})}})}),Object(a.jsx)(K,{type:"secondary",htmlType:"submit",children:"Apply"})]})})},jn=n(374),dn=n(53),un="#8FBCBB",bn="#5E81AC",On=[un,"#88C0D0","#81A1C1",bn,"#4C566A","#434C5E"],xn="#D8DEE9",pn="#2E3440",hn="#4C566A",mn="#E5E9F0",fn={width:350,height:350,padding:50},yn={fontFamily:"'Montserrat','Helvetica Neue', 'Helvetica', sans-serif",fontSize:10,letterSpacing:"normal",padding:8,fill:hn,stroke:"transparent",strokeWidth:0},gn=Object(dn.assign)({textAnchor:"middle"},yn),vn="round",wn="round",kn={area:Object(dn.assign)({style:{data:{fill:mn},labels:yn}},fn),axis:Object(dn.assign)({style:{axis:{fill:"transparent",stroke:pn,strokeWidth:2,strokeLinecap:vn,strokeLinejoin:wn},axisLabel:Object(dn.assign)({},gn,{padding:8,stroke:"transparent"}),grid:{fill:"none",stroke:xn,strokeDasharray:"10, 5",strokeLinecap:vn,strokeLinejoin:wn,pointerEvents:"painted"},ticks:{fill:"transparent",size:2,stroke:pn,strokeWidth:1,strokeLinecap:vn,strokeLinejoin:wn},tickLabels:Object(dn.assign)({},yn,{fill:hn,padding:13})}},fn),polarDependentAxis:Object(dn.assign)({style:{ticks:{fill:"transparent",size:1,stroke:"transparent"}}}),bar:Object(dn.assign)({style:{data:{fill:bn,padding:8,strokeWidth:0},labels:yn}},fn),boxplot:Object(dn.assign)({style:{max:{padding:8,stroke:hn,strokeWidth:1},maxLabels:Object(dn.assign)({},yn,{padding:3}),median:{padding:8,stroke:hn,strokeWidth:1},medianLabels:Object(dn.assign)({},yn,{padding:3}),min:{padding:8,stroke:hn,strokeWidth:1},minLabels:Object(dn.assign)({},yn,{padding:3}),q1:{padding:8,fill:hn},q1Labels:Object(dn.assign)({},yn,{padding:3}),q3:{padding:8,fill:hn},q3Labels:Object(dn.assign)({},yn,{padding:3})},boxWidth:20},fn),candlestick:Object(dn.assign)({style:{data:{stroke:hn},labels:Object(dn.assign)({},yn,{padding:5})},candleColors:{positive:"#ffffff",negative:hn}},fn),chart:fn,errorbar:Object(dn.assign)({borderWidth:8,style:{data:{fill:"transparent",opacity:1,stroke:hn,strokeWidth:2},labels:yn}},fn),group:Object(dn.assign)({colorScale:On},fn),histogram:Object(dn.assign)({style:{data:{fill:hn,stroke:mn,strokeWidth:2},labels:yn}},fn),legend:{colorScale:On,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle"},labels:yn,title:Object(dn.assign)({},yn,{padding:5})}},line:Object(dn.assign)({style:{data:{fill:"transparent",opacity:1,stroke:hn,strokeWidth:2},labels:yn}},fn),pie:Object(dn.assign)({colorScale:On,style:{data:{padding:8,stroke:xn,strokeWidth:1},labels:Object(dn.assign)({},yn,{padding:20})}},fn),scatter:Object(dn.assign)({style:{data:{fill:hn,opacity:1,stroke:"transparent",strokeWidth:0},labels:yn}},fn),stack:Object(dn.assign)({colorScale:On},fn),tooltip:{style:Object(dn.assign)({},yn,{padding:0,pointerEvents:"none"}),flyoutStyle:{stroke:hn,strokeWidth:1,fill:un,pointerEvents:"none"},flyoutPadding:5,cornerRadius:5,pointerLength:10},voronoi:Object(dn.assign)({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:Object(dn.assign)({},yn,{padding:5,pointerEvents:"none"}),flyout:{stroke:mn,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},fn)},In=Object(jn.extendMoment)(sn.a);function Sn(){var e=Object(r.useState)(null),t=Object(v.a)(e,2),n=t[0],c=t[1],s=te.a.useForm(),i=Object(v.a)(s,1)[0],l=Object(r.useState)({dateRange:"last7days",rangePicker:In.range(In().subtract(7,"d"),In())}),o=Object(v.a)(l,2),j=o[0],b=o[1],O=Object(r.useState)("Last 7 days"),p=Object(v.a)(O,2),h=p[0],m=p[1],f=Object(r.useState)({one:"date",two:"total"}),y=Object(v.a)(f,2),g=y[0],w=(y[1],Object(r.useState)([])),k=Object(v.a)(w,2),I=k[0],S=k[1],C=Object(r.useState)([]),D=Object(v.a)(C,2),P=(D[0],D[1],Object(r.useState)({dateRange:"last7days",rangePicker:In.range(In().subtract(7,"d"),In())})),E=Object(v.a)(P,2),A=E[0],L=E[1],F=Object(r.useState)("Last 7 days"),N=Object(v.a)(F,2),B=N[0],z=N[1],M=Object(r.useState)({one:"date",two:"quantity"}),R=Object(v.a)(M,2),q=R[0],U=(R[1],Object(r.useState)([])),_=Object(v.a)(U,2),H=_[0],V=_[1],W=Object(r.useState)([]),$=Object(v.a)(W,2);$[0],$[1];function Q(e,t){switch(e){case"last7days":t("Last 7 days");break;case"last15days":t("Last 15 days");break;case"last30days":t("Last 30 days");break;case"lastMonth":t("Last Month");break;case"weekToDate":t("Week to date");break;case"monthToDate":t("Month to date");break;case"quarterToDate":case"yearToDate":t("Year to date");break;case"custom":t("Custom")}}function G(e,t,n,a,r){var c=function(e,t){return e.filter((function(e){return t.contains(In(e.date))}))}(e,t),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In.range(In().subtract(8,"days"),In()),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"last7days",n=arguments.length>2?arguments[2]:void 0,a=[],r="",c=e.start.subtract(1,"d"),s=[];"quarterToDate"===t||"yearToDate"===t?(r="months",a=["M","MMM"]):(r="days",a=["d","MMM Do"]);for(var i=Array.from(e.by(r)),l=0;l<i.length-1;l++){var o;s.push((o={},Object(Je.a)(o,n.one,c.add(1,a[0]).format(a[1])),Object(Je.a)(o,n.two,0),o))}return[s,a]}(t,n,r),i=Object(v.a)(s,2);a(function(e){var t=e.filtered,n=e.baseArr,a=void 0===n?[]:n,r=e.formated,c=void 0===r?"M Do":r,s=e.keys,i=a.length?a:[],l=t.map((function(e){return In(e[s.one]).format(c)}));if(a.length){var o=a.map((function(e){return e[s.one]}));l.forEach((function(e,n,a){var r,c=a.indexOf(e),l=o.indexOf(e);l+1&&n===c?"total"===s.two?(r=t[n][s.two],i[l][s.two]=r):(r=1,i[l][s.two]=r):l+1&&("total"===s.two?(r=i[l][s.two]+t[n][s.two],i[l][s.two]=r):(r=i[l][s.two]+1,i[l][s.two]=r)),"total"===s.two?i[l].label="$ ".concat(r).replace(/\B(?=(\d{3})+(?!\d))/g,","):i[l].label="Qty: ".concat(r)}))}else l.forEach((function(e,t,n){var a,r=n.indexOf(e);if(t===r)"total"===s.two||i.push((a={},Object(Je.a)(a,s.one,e),Object(Je.a)(a,s.two,1),Object(Je.a)(a,"label","1"),a));else if("total"===s.two);else{var c=i[r][s.two]+1;i[r][s.two]=c,i[r].label="".concat(c)}}));return i}({filtered:c,baseArr:i[0],formated:i[1][1],keys:r}))}return Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,n=t.data,c(n),G(n,j.rangePicker,j.dateRange,S,g),G(n,A.rangePicker,A.dateRange,V,q);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){n&&(G(n,j.rangePicker,j.dateRange,S,g),Q(j.dateRange,m))}),[g,j]),Object(r.useEffect)((function(){n&&(G(n,A.rangePicker,A.dateRange,V,q),Q(A.dateRange,z))}),[q,A]),Object(a.jsxs)(Z.a,{justify:"center",align:"middle",style:{height:"100%"},children:[Object(a.jsx)(le,{style:{textAlign:"left",width:"100%"},children:"Analytics"}),Object(a.jsxs)(ee.a,{xs:24,sm:24,md:12,lg:12,xl:12,children:[Object(a.jsxs)(Z.a,{children:[Object(a.jsx)(ee.a,{span:12,children:Object(a.jsx)(le,{level:3,style:{textAlign:"left",margin:0},children:"Total sales"})}),Object(a.jsx)(ee.a,{span:12,children:Object(a.jsx)(Xt.a,{overlay:function(){return Object(a.jsx)(on,{form:i,setConfigs:b})},placement:"bottomLeft",trigger:["click"],children:Object(a.jsxs)(K,{type:"primary",children:[Object(a.jsx)(Zt.a,{}),h]})})})]}),Object(a.jsx)(x.a,{}),Object(a.jsx)(ee.a,{style:{height:"40%"},children:n?Object(a.jsxs)(en.a,{domainPadding:10,theme:kn,animate:{duration:500},height:250,children:[Object(a.jsx)(tn.a,{text:h,x:50,y:30}),Object(a.jsx)(nn.a,{dependentAxis:!0,label:"Total Price ($)",tickFormat:function(e){return"$".concat(e/1e3,"k")},style:{tickLabels:{fontSize:10}}}),Object(a.jsx)(nn.a,{style:{tickLabels:{angle:-90,fontSize:9}}}),Object(a.jsx)(an.a,{labelComponent:Object(a.jsx)(rn.a,{}),data:I,x:[g.one],y:[g.two],alignment:"start",title:"Total orders",events:[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(){return{style:{fill:"#88C0D0"}}}},{target:"labels",mutation:function(){return{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){}},{target:"labels",mutation:function(){return{active:!1}}}]}}}]})]}):Object(a.jsx)(Oe.a,{active:!0})})]}),Object(a.jsxs)(ee.a,{xs:24,sm:24,md:12,lg:12,xl:12,children:[Object(a.jsxs)(Z.a,{children:[Object(a.jsx)(ee.a,{span:12,children:Object(a.jsx)(le,{level:3,style:{textAlign:"left",margin:0},children:"Total orders"})}),Object(a.jsx)(ee.a,{span:12,children:Object(a.jsx)(Xt.a,{overlay:function(){return Object(a.jsx)(on,{form:i,setConfigs:L})},placement:"bottomLeft",trigger:["click"],children:Object(a.jsxs)(K,{type:"primary",children:[Object(a.jsx)(Zt.a,{}),B]})})})]}),Object(a.jsx)(x.a,{}),Object(a.jsx)(ee.a,{style:{height:"40%"},children:n?Object(a.jsxs)(en.a,{domainPadding:10,theme:kn,animate:{duration:500},height:250,children:[Object(a.jsx)(tn.a,{text:B,x:50,y:30}),Object(a.jsx)(nn.a,{dependentAxis:!0,label:"Quantity",style:{tickLabels:{fontSize:10}}}),Object(a.jsx)(nn.a,{style:{tickLabels:{angle:-90,fontSize:9}}}),Object(a.jsx)(an.a,{labelComponent:Object(a.jsx)(rn.a,{}),data:H,x:[q.one],y:[q.two],alignment:"start",title:"Total orders",events:[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(){return{style:{fill:"#88C0D0"}}}},{target:"labels",mutation:function(){return{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){}},{target:"labels",mutation:function(){return{active:!1}}}]}}}]})]}):Object(a.jsx)(Oe.a,{active:!0})})]})]})}var Cn=function(){var e=I().user;return Object(a.jsx)(l.a,{children:Object(a.jsx)(P,{children:Object(a.jsxs)(o.d,{children:[Object(a.jsx)(o.b,{exact:!0,path:"/",component:e?It:mt}),Object(a.jsx)(o.b,{exact:!0,path:"/signup",component:ke}),Object(a.jsx)(o.b,{exact:!0,path:"/login",component:je}),Object(a.jsx)(yt,{exact:!0,path:"/profile/edit",component:De}),Object(a.jsx)(yt,{exact:!0,path:"/profile",component:Ae}),Object(a.jsx)(yt,{exact:!0,path:"/orders",component:J}),Object(a.jsx)(yt,{exact:!0,path:"/orders/create-order",component:st}),Object(a.jsx)(yt,{exact:!0,path:"/orders/:ordersID/edit",component:Rt}),Object(a.jsx)(yt,{exact:!0,path:"/orders/:ordersID",component:Tt}),Object(a.jsx)(yt,{exact:!0,path:"/suppliers",component:Vt}),Object(a.jsx)(yt,{exact:!0,path:"/suppliers/create-supplier",component:ht}),Object(a.jsx)(yt,{exact:!0,path:"/suppliers/:suppliersID",component:zt}),Object(a.jsx)(yt,{exact:!0,path:"/suppliers/:suppliersID/edit",component:Ut}),Object(a.jsx)(yt,{exact:!0,path:"/clients",component:Wt}),Object(a.jsx)(yt,{exact:!0,path:"/clients/create-client",component:at}),Object(a.jsx)(yt,{exact:!0,path:"/clients/:clientsID/edit",component:Ht}),Object(a.jsx)(yt,{exact:!0,path:"/products",component:Qt}),Object(a.jsx)(yt,{exact:!0,path:"/products/create",component:function(){return Object(a.jsx)(Jt,{isNew:!0})}}),Object(a.jsx)(yt,{exact:!0,path:"/products/:productID/edit",component:function(e){return Object(a.jsx)(Jt,Object(i.a)({isNew:!1},e))}}),Object(a.jsx)(yt,{exact:!0,path:"/products/:productID",component:Gt}),Object(a.jsx)(yt,{exact:!0,path:"/analytics",component:Sn})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(652),n(653);s.a.render(Object(a.jsx)(k,{children:Object(a.jsx)(Cn,{})}),document.getElementById("root")),navigator}},[[654,1,2]]]);
//# sourceMappingURL=main.ee70c501.chunk.js.map